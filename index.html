<!DOCTYPE html>
<html>
<head>
    <title>一带一路项目地图</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        #map { height: 600px; }
        .leaflet-popup-content { max-width: 300px; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>
<body>
    <div id="map"></div>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // 加载高德地图（国内稳定）
        const map = L.map('map').setView([0, 0], 2);
        L.tileLayer('https://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}', {
            subdomains: ['1','2','3','4']
        }).addTo(map);
        
        // 加载你的数据（需替换为实际CSV内容）
        const projects = [
           { name: "瓜达尔港", lat: 25.12, lng: 62.33, desc: "中巴经济走廊核心港口" },
           { name: "中国-巴新友谊学校·布图卡学园教师住房项目", lat: -9.495048, lng: 147.193279, desc: "巴布亚新几内亚首都莫尔兹比港，宁静的小渔村基拉基拉村旁边，崭新的布图卡学园里面传出朗朗读书声。走进布图卡学园，郁郁葱葱的绿植映入眼帘，一声声清脆的鸟叫声更显校园的和谐。" }
];
        projects.forEach(project => {
           L.marker([project.lat, project.lng], {
    icon: L.icon({ 
        iconUrl: 'https://cdn-icons-png.flaticon.com/512/684/684908.png' // 红色标记
    })
})
            // 读取 CSV 文件并在地图上加点
function addCsvPoints(csvUrl, color) {
  Papa.parse(csvUrl, {
    download: true,
    header: true,
    complete: function(results) {
      results.data.forEach(row => {
        if (!row.lat || !row.lng) return;
        const marker = L.circleMarker([parseFloat(row.lat), parseFloat(row.lng)], {
          radius: 6,
          color: color || 'blue',
          fillOpacity: 0.8
        }).addTo(map);
        marker.bindPopup(`<b>${row.name || '未命名项目'}</b><br>${row.remark || row.desc || ''}<br>坐标：${row.lat}, ${row.lng}`);
      });
    }
  });
}

// ✅ 加载两个 CSV 文件
addCsvPoints('斐济坐标.csv', 'red');
addCsvPoints('萨摩亚坐标.csv', 'green');

    </script>
</body>
</html>

